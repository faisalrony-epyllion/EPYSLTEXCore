<script type="text/javascript">
    localStorage.setItem("pageName", "@ViewBag.PageName");
    localStorage.setItem("menuId", "@ViewBag.MenuId");
    localStorage.setItem("menuParam", "@ViewBag.MenuParam");
</script>

@{
    var pageId = ViewBag.PageName + "-" + ViewBag.MenuId;
    var menuParam = ViewBag.MenuParam;
    var divTblId = "divtbl" + pageId;
    var toolbarId = "toolbar" + pageId;
    var tblMasterId = "tbl" + pageId;
    var tblChildId = "tblChild" + pageId;
    var tblChildSetId = "tblChildSet" + pageId;
    var tblChildSetDetailsId = "tblChildSetDetails" + pageId;
    var formId = "form" + pageId;
    var divDetailsId = "divDetails" + pageId;

    //var pageId = ViewBag.PageName + "-" + ViewBag.MenuId;
    //var divTblId = "divtbl" + pageId;
    //var toolbarId = "toolbar" + pageId;
    //var tblMasterId = "tbl" + pageId;
    //var tblChildId = "tblChild" + pageId;
    //var formId = "form" + pageId;
    //var divDetailsId = "divDetails" + pageId;
}

<div id="@pageId">
    <input id="txtMenuParam" value="@menuParam" type="hidden" />
    <div class="row" id="@divTblId">
        <div class="col-sm-12">
            <div id="@toolbarId" style="margin-bottom:10px;">
                <div>
                    @*<button id="btnNew" class="btn btn-default text-grey btn-sm btnTootBar" >
                            <i class="fa fa-plus"></i>&nbsp;New QC Requisition
                        </button>*@
                    <button id="pandingList" class="btn btn-default btn-sm btnTootBar">
                        <i class="fa fa-list"></i>&nbsp;Pending Lists
                    </button>
                    <button id="btnNoTest" class="btn btn-default btn-sm btnTootBar">
                        <i class="fa fa-list"></i>&nbsp;No Test Lists
                    </button>
                    <button id="btnReTestDiagnosticList" class="btn btn-default btn-sm btnTootBar">
                        <i class="fa fa-list"></i>&nbsp;ReTest / Diagnostic Lists
                    </button>
                    <button id="btnList" class="btn btn-default btn-sm btnTootBar">
                        <i class="fa fa-list"></i>&nbsp;QC Requisition Lists
                    </button>
                    <button id="btnPendingForApproval" class="btn btn-default btn-sm btnTootBar">
                        <i class="fa fa-list"></i>&nbsp;Pending For Approval
                    </button>
                    <button id="btnApprovedList" class="btn btn-default btn-sm btnTootBar">
                        <i class="fa fa-list"></i>&nbsp;Approved List
                    </button>
                    <button id="btnRejectList" class="btn btn-default btn-sm btnTootBar">
                        <i class="fa fa-list"></i>&nbsp;Reject List
                    </button>
                    @*<button id="btnAllList" class="btn btn-default text-grey btn-sm">
                            <i class="fa fa-list"></i>&nbsp;All
                        </button>*@
                </div>
                <div style="margin:10px 0 10px 0;" class="divCreate btnTootBar">
                    <button id="btnCreate" class="btn btn-primary btn-sm btnExtra">
                        <i class="fa fa-plus"></i>&nbsp;Create
                    </button>
                </div>
            </div>
        </div>
        <div class="col-sm-12" style="font-size:12px">
            <table id="@tblMasterId"></table>
        </div>
    </div>
    <div class="row">
        <form id="@formId">
            <input type="hidden" id="QCReqMasterID" name="QCReqMasterID" value="-1111" />
            <input type="hidden" id="ReceiveID" name="ReceiveID" value="-1111" />
            <input type="hidden" id="RetestParentQCRemarksMasterID" name="RetestParentQCRemarksMasterID" value="-1111" />
            <input type="hidden" id="ReceiveNo" name="ReceiveNo" />
            <input type="hidden" id="PhysicalCount" name="PhysicalCount" />
            <input type="hidden" id="LotNo" name="LotNo" />
            <input type="hidden" id="LocationID" name="LocationID" />
            <input type="hidden" id="CompanyID" name="CompanyID" />
            <input type="hidden" id="RCompanyID" name="RCompanyID" />
            <input type="hidden" id="EntityState" name="EntityState" value="4" />

            <div class="box-body" id="@divDetailsId" style="display:none">
                <div class="col-sm-12">
                    <!-- General/Commercial Information Card -->
                    <div class="card">
                        <div class="card-header">
                            General/Commercial Information
                        </div>
                        <div class="card-body">
                            <div class="form-row">
                                <div class="col-sm-6">
                                    <div class="form-group row">
                                        <label class="col-sm-4 col-form-label small">Requisition No</label>
                                        <div class="col-sm-8">
                                            <input id="QCReqNo" name="QCReqNo" class="form-control form-control-sm" value="**<< NEW >>**" readonly />
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <label class="col-sm-4 col-form-label small">Requisition Date</label>
                                        <div class="col-sm-8">
                                            <input id="QCReqDate" name="QCReqDate" class="form-control form-control-sm ej2-datepicker" />
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" style="margin:5px;" id="NeedUSTER" name="NeedUSTER" value="1" />
                                            <label for="NeedUSTER">USTER</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" style="margin:5px;" id="NeedYarnTRF" name="NeedYarnTRF" value="1" />
                                            <label for="NeedYarnTRF">Yarn TRF</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" style="margin:5px;" id="NeedFabricTRF" name="NeedFabricTRF" value="1" />
                                            <label for="NeedFabricTRF">Fabric TRF</label>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-6">
                                    <div class="form-group row" hidden>
                                        <label class="col-sm-4 col-form-label small">Select Receive No</label>
                                        <div class="col-sm-8">
                                            <select id="ReceiveID" name="ReceiveID" class="form-control form-control-sm" style="width:100%"></select>
                                        </div>
                                    </div>

                                    <div class="form-group row" style="display:none">
                                        <label class="col-sm-4 col-form-label small">Receive No</label>
                                        <div class="col-sm-8">
                                            <input id="ReceiveNo" name="ReceiveNo" class="form-control form-control-sm" placeholder="Receive No" readonly />
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <label class="col-sm-4 col-form-label small">Select QC For</label>
                                        <div class="col-sm-8">
                                            <select id="QCForId" name="QCForId" class="form-control form-control-sm" style="width:100%"></select>
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <label class="col-sm-4 col-form-label small">Receive Date</label>
                                        <div class="col-sm-8">
                                            <input id="ReceiveDate" name="ReceiveDate" class="form-control form-control-sm" placeholder="Receive Date" readonly />
                                        </div>
                                    </div>

                                    <div class="form-group row rejectReason" style="display:none;">
                                        <label class="col-sm-4 col-form-label small text-danger">Reject Reason</label>
                                        <div class="col-sm-8">
                                            <textarea id="RejectReason" name="RejectReason" class="form-control"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Yarn Information Card -->
                    <div class="card mt-3">
                        <div class="card-header">
                            Yarn Information
                        </div>
                        <div class="card-body">
                            <div class="form-horizontal">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <table id="@tblChildId"></table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Form Buttons -->
                    <div class="box-footer btn-e-float-margin" id="divFormButtons">
                        <div class="col-md-10 offset-md-2">
                            <div class="float-right">
                                <button type="button" class="btn btn-secondary m-w-120" id="btnCancel">
                                    <i class="fa fa-angle-double-left"></i>&nbsp;Back to List
                                </button>
                                <button type="button" class="btn btn-primary m-w-120 btnAction" id="btnSave">
                                    <i class="fa fa-save"></i>&nbsp;&nbsp;Save
                                </button>
                                <button type="button" class="btn btn-success m-w-120 btnAction" id="btnSaveAndSend">
                                    <i class="fa fa-angle-double-right"></i>&nbsp;Save and Send
                                </button>
                                <button type="button" class="btn btn-success m-w-120 btnAction" id="btnApprove">
                                    <i class="fa fa-check" aria-hidden="true"></i>&nbsp;Approve
                                </button>
                                <button type="button" class="btn btn-danger m-w-120 btnAction" id="btnReject">
                                    <i class="fa fa-ban" aria-hidden="true"></i>&nbsp;Reject
                                </button>
                                <button type="button" class="btn btn-success m-w-120 btnAction" id="btnRevise">
                                    <i class="fa fa-check" aria-hidden="true"></i>&nbsp;Revise
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        @* <form class="form-horizontal" id="@formId">
            <input type="hidden" id="QCReqMasterID" name="QCReqMasterID" value="-1111" />
            <input type="hidden" id="ReceiveID" name="ReceiveID" value="-1111" />
            <input type="hidden" id="RetestParentQCRemarksMasterID" name="RetestParentQCRemarksMasterID" value="-1111" />
            <input type="hidden" id="ReceiveNo" name="ReceiveNo" />
            <input type="hidden" id="PhysicalCount" name="PhysicalCount" />
            <input type="hidden" id="LotNo" name="LotNo" />
            <input type="hidden" id="LocationID" name="LocationID" />
            <input type="hidden" id="CompanyID" name="CompanyID" />
            <input type="hidden" id="RCompanyID" name="RCompanyID" />
            <input type="hidden" id="EntityState" name="EntityState" value="4" />

            <div class="box-body" id="@divDetailsId" style="display:none">
                <div class="col-sm-12">
                    <div class="panel panel-success" style="border-color:transparent; border-style:none;">
                        <div class="panel-heading">
                            General/Commercial Information
                        </div>
                        <div class="panel-body">
                            <div class="form-horizontal">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label col-sm-4 small">Requisition No</label>
                                        <div class="col-sm-8">
                                            <input id="QCReqNo" name="QCReqNo" class="form-control input-sm" value="**<< NEW >>**" readonly />
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="control-label col-sm-4 small">Requisition Date</label>
                                        <div class="col-sm-8">
                                            <input id="QCReqDate" name="QCReqDate" class="form-control input-sm ej2-datepicker" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-12">
                                            <div class="col-sm-4 form-group">
                                                <label class="control-label col-sm-5 small"></label>
                                                <div class="form-check col-sm-10">
                                                    <input type="checkbox" style="margin:5px;" id="NeedUSTER" name="NeedUSTER" value="1" />
                                                    <label for="NeedUSTER">USTER</label>
                                                </div>
                                            </div>
                                            <div class="col-sm-4 form-group">
                                                <label class="control-label col-sm-5 small"></label>
                                                <div class="form-check col-sm-10">
                                                    <input type="checkbox" style="margin:5px;" id="NeedYarnTRF" name="NeedYarnTRF" value="1" />
                                                    <label for="NeedYarnTRF">Yarn TRF</label>
                                                </div>
                                            </div>
                                            <div class="col-sm-4 form-group">
                                                <label class="control-label col-sm-5 small"></label>
                                                <div class="form-check col-sm-10">
                                                    <input type="checkbox" style="margin:5px;" id="NeedFabricTRF" name="NeedFabricTRF" value="1" />
                                                    <label for="NeedFabricTRF">Fabric TRF</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div class="col-sm-6">
                                    <div class="form-group" hidden>
                                        <label class="control-label col-sm-4 small">Select Receive No</label>
                                        <div class="col-sm-8">
                                            <select id="ReceiveID" name="ReceiveID" class="form-control input-sm" style="width:100%"></select>
                                        </div>
                                    </div>

                                    <div class="form-group" style="display:none">
                                        <label class="control-label col-sm-4 small">Receive No</label>
                                        <div class="col-sm-8">
                                            <input id="ReceiveNo" name="ReceiveNo" class="form-control input-sm" placeholder="Receive No" readonly />
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="control-label col-sm-4 small">Select QC For</label>
                                        <div class="col-sm-8">
                                            <select id="QCForId" name="QCForId" class="form-control input-sm" style="width:100%"></select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-4 small">Receive Date</label>
                                        <div class="col-sm-8">
                                            <input id="ReceiveDate" name="ReceiveDate" class="form-control input-sm" placeholder="Receive Date" readonly />
                                        </div>
                                    </div>
                                    <div class="form-group rejectReason" style="display:none;">
                                        <label class="control-label col-sm-4 small" style="color: #c00;">Reject Reason</label>
                                        <div class="col-sm-8">
                                            <textarea id="RejectReason" name="RejectReason" type="text" class="form-control"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12">
                    <div class="panel panel-success" style="border-color:transparent; border-style:none;">
                        <div class="panel-heading">
                            Yarn Information
                        </div>
                        <div class="panel-body">
                            <div class="form-horizontal">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <table id="@tblChildId"></table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="box-footer btn-e-float-margin" id="divFormButtons">
                    <div class="col-md-offset-2 col-md-10">
                        <div class="pull-right">
                            <button type="button" class="btn btn-default m-w-120" id="btnCancel"><i class="fa fa-angle-double-left"></i>&nbsp;Back to List</button>
                            <button type="button" class="btn btn-primary m-w-120 btnAction" id="btnSave"><i class="fa fa-save"></i>&nbsp;&nbsp;Save</button>
                            <button type="button" class="btn btn-success m-w-120 btnAction" id="btnSaveAndSend"><i class="fa fa-angle-double-right"></i>&nbsp;Save and Send</button>
                            <button type="button" class="btn btn-success m-w-120 btnAction" id="btnApprove"><i class="fa fa-check" aria-hidden="true"></i>&nbsp;Approve</button>
                            <button type="button" class="btn btn-danger m-w-120 btnAction" id="btnReject"><i class="fa fa-ban" aria-hidden="true"></i>&nbsp;Reject</button>
                            <button type="button" class="btn btn-success m-w-120 btnAction" id="btnRevise"><i class="fa fa-check" aria-hidden="true"></i>&nbsp;Revise</button>
                        </div>
                    </div>
                </div>

            </div>
        </form> *@
    </div>
    <!-- Modal -->
    <div class="modal fade" id="noTestModal" role="dialog">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Note</h4>
                </div>
                <div class="modal-body">
                    <input id="txtChildID" type="hidden" />
                    <textarea id="txtNoTestRemark" style="width:100%;min-height:100px;" placeholder="No Test Remarks..."></textarea>
                </div>
                <div class="modal-footer">
                    <button id="btnNoTestRemarkConfirm" type="button" class="btn btn-primary" data-dismiss="modal">Confirm</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="noTestTagModal" role="dialog">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h5 class="modal-title">This Item Already has a QC Requisition. Do You want to Tag?</h5>
                </div>
                <div class="modal-footer">
                    <button id="btnNoTestTagYes" type="button" class="btn btn-primary" data-dismiss="modal">Yes</button>
                    <button id="btnNoTestTagNo" type="button" class="btn btn-primary" data-dismiss="modal">No</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="noTestTagConfirmModal" role="dialog">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h5 class="modal-title">Want to Tag with QC Req No <label id="lblQCReqNo"></label>?</h5>
                </div>
                <div class="modal-footer">
                    <button id="btnConfirmTag" type="button" class="btn btn-primary" data-dismiss="modal">Confirm</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>
